"use strict";

var cov_1qeyeb1yqe = function () {
  var path = "/home/local/pyykkomi/liiga/backend/services/update/players.js";
  var hash = "36dcdca9a457134020cd9ac95f0a1b0f8a6b8904";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/local/pyykkomi/liiga/backend/services/update/players.js",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 34
        },
        end: {
          line: 10,
          column: 1
        }
      },
      "1": {
        start: {
          line: 8,
          column: 2
        },
        end: {
          line: 9,
          column: 32
        }
      },
      "2": {
        start: {
          line: 9,
          column: 17
        },
        end: {
          line: 9,
          column: 31
        }
      },
      "3": {
        start: {
          line: 12,
          column: 33
        },
        end: {
          line: 15,
          column: 1
        }
      },
      "4": {
        start: {
          line: 13,
          column: 2
        },
        end: {
          line: 14,
          column: 39
        }
      },
      "5": {
        start: {
          line: 14,
          column: 17
        },
        end: {
          line: 14,
          column: 38
        }
      },
      "6": {
        start: {
          line: 17,
          column: 32
        },
        end: {
          line: 23,
          column: 1
        }
      },
      "7": {
        start: {
          line: 18,
          column: 2
        },
        end: {
          line: 22,
          column: 12
        }
      },
      "8": {
        start: {
          line: 19,
          column: 21
        },
        end: {
          line: 19,
          column: 41
        }
      },
      "9": {
        start: {
          line: 20,
          column: 18
        },
        end: {
          line: 20,
          column: 96
        }
      },
      "10": {
        start: {
          line: 25,
          column: 19
        },
        end: {
          line: 25,
          column: 85
        }
      },
      "11": {
        start: {
          line: 25,
          column: 42
        },
        end: {
          line: 25,
          column: 85
        }
      },
      "12": {
        start: {
          line: 25,
          column: 59
        },
        end: {
          line: 25,
          column: 84
        }
      },
      "13": {
        start: {
          line: 27,
          column: 26
        },
        end: {
          line: 27,
          column: 117
        }
      },
      "14": {
        start: {
          line: 27,
          column: 47
        },
        end: {
          line: 27,
          column: 117
        }
      },
      "15": {
        start: {
          line: 27,
          column: 68
        },
        end: {
          line: 27,
          column: 102
        }
      },
      "16": {
        start: {
          line: 28,
          column: 29
        },
        end: {
          line: 28,
          column: 120
        }
      },
      "17": {
        start: {
          line: 28,
          column: 50
        },
        end: {
          line: 28,
          column: 120
        }
      },
      "18": {
        start: {
          line: 28,
          column: 71
        },
        end: {
          line: 28,
          column: 96
        }
      },
      "19": {
        start: {
          line: 30,
          column: 35
        },
        end: {
          line: 45,
          column: 1
        }
      },
      "20": {
        start: {
          line: 31,
          column: 23
        },
        end: {
          line: 31,
          column: 28
        }
      },
      "21": {
        start: {
          line: 33,
          column: 23
        },
        end: {
          line: 33,
          column: 73
        }
      },
      "22": {
        start: {
          line: 34,
          column: 15
        },
        end: {
          line: 34,
          column: 38
        }
      },
      "23": {
        start: {
          line: 35,
          column: 18
        },
        end: {
          line: 35,
          column: 43
        }
      },
      "24": {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 44,
          column: 5
        }
      },
      "25": {
        start: {
          line: 37,
          column: 37
        },
        end: {
          line: 44,
          column: 3
        }
      },
      "26": {
        start: {
          line: 47,
          column: 42
        },
        end: {
          line: 50,
          column: 1
        }
      },
      "27": {
        start: {
          line: 48,
          column: 2
        },
        end: {
          line: 49,
          column: 39
        }
      },
      "28": {
        start: {
          line: 49,
          column: 17
        },
        end: {
          line: 49,
          column: 38
        }
      },
      "29": {
        start: {
          line: 52,
          column: 36
        },
        end: {
          line: 73,
          column: 1
        }
      },
      "30": {
        start: {
          line: 53,
          column: 23
        },
        end: {
          line: 53,
          column: 84
        }
      },
      "31": {
        start: {
          line: 53,
          column: 71
        },
        end: {
          line: 53,
          column: 82
        }
      },
      "32": {
        start: {
          line: 55,
          column: 28
        },
        end: {
          line: 64,
          column: 3
        }
      },
      "33": {
        start: {
          line: 59,
          column: 19
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "34": {
        start: {
          line: 66,
          column: 18
        },
        end: {
          line: 70,
          column: 5
        }
      },
      "35": {
        start: {
          line: 66,
          column: 51
        },
        end: {
          line: 70,
          column: 3
        }
      },
      "36": {
        start: {
          line: 72,
          column: 2
        },
        end: {
          line: 72,
          column: 16
        }
      },
      "37": {
        start: {
          line: 75,
          column: 46
        },
        end: {
          line: 117,
          column: 1
        }
      },
      "38": {
        start: {
          line: 76,
          column: 20
        },
        end: {
          line: 76,
          column: 80
        }
      },
      "39": {
        start: {
          line: 76,
          column: 52
        },
        end: {
          line: 76,
          column: 74
        }
      },
      "40": {
        start: {
          line: 78,
          column: 19
        },
        end: {
          line: 78,
          column: 63
        }
      },
      "41": {
        start: {
          line: 78,
          column: 39
        },
        end: {
          line: 78,
          column: 47
        }
      },
      "42": {
        start: {
          line: 78,
          column: 58
        },
        end: {
          line: 78,
          column: 62
        }
      },
      "43": {
        start: {
          line: 80,
          column: 18
        },
        end: {
          line: 114,
          column: 6
        }
      },
      "44": {
        start: {
          line: 81,
          column: 56
        },
        end: {
          line: 81,
          column: 61
        }
      },
      "45": {
        start: {
          line: 83,
          column: 27
        },
        end: {
          line: 83,
          column: 87
        }
      },
      "46": {
        start: {
          line: 83,
          column: 74
        },
        end: {
          line: 83,
          column: 85
        }
      },
      "47": {
        start: {
          line: 84,
          column: 26
        },
        end: {
          line: 84,
          column: 63
        }
      },
      "48": {
        start: {
          line: 86,
          column: 4
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "49": {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 87,
          column: 12
        }
      },
      "50": {
        start: {
          line: 90,
          column: 29
        },
        end: {
          line: 90,
          column: 30
        }
      },
      "51": {
        start: {
          line: 92,
          column: 4
        },
        end: {
          line: 94,
          column: 5
        }
      },
      "52": {
        start: {
          line: 93,
          column: 6
        },
        end: {
          line: 93,
          column: 84
        }
      },
      "53": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 98,
          column: 5
        }
      },
      "54": {
        start: {
          line: 97,
          column: 6
        },
        end: {
          line: 97,
          column: 12
        }
      },
      "55": {
        start: {
          line: 100,
          column: 38
        },
        end: {
          line: 100,
          column: 51
        }
      },
      "56": {
        start: {
          line: 102,
          column: 24
        },
        end: {
          line: 109,
          column: 7
        }
      },
      "57": {
        start: {
          line: 103,
          column: 31
        },
        end: {
          line: 103,
          column: 76
        }
      },
      "58": {
        start: {
          line: 105,
          column: 16
        },
        end: {
          line: 109,
          column: 5
        }
      },
      "59": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 111,
          column: 64
        }
      },
      "60": {
        start: {
          line: 111,
          column: 58
        },
        end: {
          line: 111,
          column: 62
        }
      },
      "61": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 113,
          column: 22
        }
      },
      "62": {
        start: {
          line: 116,
          column: 2
        },
        end: {
          line: 116,
          column: 49
        }
      },
      "63": {
        start: {
          line: 116,
          column: 38
        },
        end: {
          line: 116,
          column: 41
        }
      },
      "64": {
        start: {
          line: 119,
          column: 32
        },
        end: {
          line: 125,
          column: 18
        }
      },
      "65": {
        start: {
          line: 119,
          column: 43
        },
        end: {
          line: 125,
          column: 18
        }
      },
      "66": {
        start: {
          line: 122,
          column: 27
        },
        end: {
          line: 122,
          column: 40
        }
      },
      "67": {
        start: {
          line: 125,
          column: 14
        },
        end: {
          line: 125,
          column: 17
        }
      },
      "68": {
        start: {
          line: 135,
          column: 35
        },
        end: {
          line: 145,
          column: 1
        }
      },
      "69": {
        start: {
          line: 136,
          column: 22
        },
        end: {
          line: 136,
          column: 53
        }
      },
      "70": {
        start: {
          line: 138,
          column: 2
        },
        end: {
          line: 144,
          column: 21
        }
      },
      "71": {
        start: {
          line: 140,
          column: 31
        },
        end: {
          line: 140,
          column: 69
        }
      },
      "72": {
        start: {
          line: 140,
          column: 46
        },
        end: {
          line: 140,
          column: 68
        }
      },
      "73": {
        start: {
          line: 142,
          column: 6
        },
        end: {
          line: 142,
          column: 70
        }
      },
      "74": {
        start: {
          line: 144,
          column: 17
        },
        end: {
          line: 144,
          column: 20
        }
      },
      "75": {
        start: {
          line: 148,
          column: 34
        },
        end: {
          line: 148,
          column: 94
        }
      },
      "76": {
        start: {
          line: 148,
          column: 46
        },
        end: {
          line: 148,
          column: 94
        }
      },
      "77": {
        start: {
          line: 148,
          column: 91
        },
        end: {
          line: 148,
          column: 92
        }
      },
      "78": {
        start: {
          line: 150,
          column: 41
        },
        end: {
          line: 156,
          column: 1
        }
      },
      "79": {
        start: {
          line: 150,
          column: 52
        },
        end: {
          line: 156,
          column: 1
        }
      },
      "80": {
        start: {
          line: 153,
          column: 27
        },
        end: {
          line: 153,
          column: 61
        }
      },
      "81": {
        start: {
          line: 158,
          column: 32
        },
        end: {
          line: 158,
          column: 113
        }
      },
      "82": {
        start: {
          line: 158,
          column: 69
        },
        end: {
          line: 158,
          column: 113
        }
      },
      "83": {
        start: {
          line: 158,
          column: 97
        },
        end: {
          line: 158,
          column: 112
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 34
          },
          end: {
            line: 7,
            column: 35
          }
        },
        loc: {
          start: {
            line: 7,
            column: 45
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 9,
            column: 12
          },
          end: {
            line: 9,
            column: 13
          }
        },
        loc: {
          start: {
            line: 9,
            column: 17
          },
          end: {
            line: 9,
            column: 31
          }
        },
        line: 9
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 12,
            column: 33
          },
          end: {
            line: 12,
            column: 34
          }
        },
        loc: {
          start: {
            line: 12,
            column: 53
          },
          end: {
            line: 15,
            column: 1
          }
        },
        line: 12
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 14,
            column: 12
          },
          end: {
            line: 14,
            column: 13
          }
        },
        loc: {
          start: {
            line: 14,
            column: 17
          },
          end: {
            line: 14,
            column: 38
          }
        },
        line: 14
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 17,
            column: 32
          },
          end: {
            line: 17,
            column: 33
          }
        },
        loc: {
          start: {
            line: 17,
            column: 43
          },
          end: {
            line: 23,
            column: 1
          }
        },
        line: 17
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 19,
            column: 12
          },
          end: {
            line: 19,
            column: 13
          }
        },
        loc: {
          start: {
            line: 19,
            column: 21
          },
          end: {
            line: 19,
            column: 41
          }
        },
        line: 19
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 20,
            column: 9
          },
          end: {
            line: 20,
            column: 10
          }
        },
        loc: {
          start: {
            line: 20,
            column: 18
          },
          end: {
            line: 20,
            column: 96
          }
        },
        line: 20
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 25,
            column: 19
          },
          end: {
            line: 25,
            column: 20
          }
        },
        loc: {
          start: {
            line: 25,
            column: 42
          },
          end: {
            line: 25,
            column: 85
          }
        },
        line: 25
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 25,
            column: 54
          },
          end: {
            line: 25,
            column: 55
          }
        },
        loc: {
          start: {
            line: 25,
            column: 59
          },
          end: {
            line: 25,
            column: 84
          }
        },
        line: 25
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 27,
            column: 26
          },
          end: {
            line: 27,
            column: 27
          }
        },
        loc: {
          start: {
            line: 27,
            column: 47
          },
          end: {
            line: 27,
            column: 117
          }
        },
        line: 27
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 27,
            column: 63
          },
          end: {
            line: 27,
            column: 64
          }
        },
        loc: {
          start: {
            line: 27,
            column: 68
          },
          end: {
            line: 27,
            column: 102
          }
        },
        line: 27
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 28,
            column: 29
          },
          end: {
            line: 28,
            column: 30
          }
        },
        loc: {
          start: {
            line: 28,
            column: 50
          },
          end: {
            line: 28,
            column: 120
          }
        },
        line: 28
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 28,
            column: 66
          },
          end: {
            line: 28,
            column: 67
          }
        },
        loc: {
          start: {
            line: 28,
            column: 71
          },
          end: {
            line: 28,
            column: 96
          }
        },
        line: 28
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 30,
            column: 35
          },
          end: {
            line: 30,
            column: 36
          }
        },
        loc: {
          start: {
            line: 30,
            column: 46
          },
          end: {
            line: 45,
            column: 1
          }
        },
        line: 30
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 37,
            column: 26
          },
          end: {
            line: 37,
            column: 27
          }
        },
        loc: {
          start: {
            line: 37,
            column: 37
          },
          end: {
            line: 44,
            column: 3
          }
        },
        line: 37
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 47,
            column: 42
          },
          end: {
            line: 47,
            column: 43
          }
        },
        loc: {
          start: {
            line: 47,
            column: 62
          },
          end: {
            line: 50,
            column: 1
          }
        },
        line: 47
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 49,
            column: 12
          },
          end: {
            line: 49,
            column: 13
          }
        },
        loc: {
          start: {
            line: 49,
            column: 17
          },
          end: {
            line: 49,
            column: 38
          }
        },
        line: 49
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 52,
            column: 36
          },
          end: {
            line: 52,
            column: 37
          }
        },
        loc: {
          start: {
            line: 52,
            column: 83
          },
          end: {
            line: 73,
            column: 1
          }
        },
        line: 52
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 53,
            column: 66
          },
          end: {
            line: 53,
            column: 67
          }
        },
        loc: {
          start: {
            line: 53,
            column: 71
          },
          end: {
            line: 53,
            column: 82
          }
        },
        line: 53
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 59,
            column: 13
          },
          end: {
            line: 59,
            column: 14
          }
        },
        loc: {
          start: {
            line: 59,
            column: 19
          },
          end: {
            line: 63,
            column: 9
          }
        },
        line: 59
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 66,
            column: 40
          },
          end: {
            line: 66,
            column: 41
          }
        },
        loc: {
          start: {
            line: 66,
            column: 51
          },
          end: {
            line: 70,
            column: 3
          }
        },
        line: 66
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 75,
            column: 46
          },
          end: {
            line: 75,
            column: 47
          }
        },
        loc: {
          start: {
            line: 75,
            column: 102
          },
          end: {
            line: 117,
            column: 1
          }
        },
        line: 75
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 76,
            column: 38
          },
          end: {
            line: 76,
            column: 39
          }
        },
        loc: {
          start: {
            line: 76,
            column: 52
          },
          end: {
            line: 76,
            column: 74
          }
        },
        line: 76
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 78,
            column: 34
          },
          end: {
            line: 78,
            column: 35
          }
        },
        loc: {
          start: {
            line: 78,
            column: 39
          },
          end: {
            line: 78,
            column: 47
          }
        },
        line: 78
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 78,
            column: 53
          },
          end: {
            line: 78,
            column: 54
          }
        },
        loc: {
          start: {
            line: 78,
            column: 58
          },
          end: {
            line: 78,
            column: 62
          }
        },
        line: 78
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 80,
            column: 58
          },
          end: {
            line: 80,
            column: 59
          }
        },
        loc: {
          start: {
            line: 80,
            column: 75
          },
          end: {
            line: 114,
            column: 3
          }
        },
        line: 80
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 83,
            column: 69
          },
          end: {
            line: 83,
            column: 70
          }
        },
        loc: {
          start: {
            line: 83,
            column: 74
          },
          end: {
            line: 83,
            column: 85
          }
        },
        line: 83
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 103,
            column: 26
          },
          end: {
            line: 103,
            column: 27
          }
        },
        loc: {
          start: {
            line: 103,
            column: 31
          },
          end: {
            line: 103,
            column: 76
          }
        },
        line: 103
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 105,
            column: 10
          },
          end: {
            line: 105,
            column: 11
          }
        },
        loc: {
          start: {
            line: 105,
            column: 16
          },
          end: {
            line: 109,
            column: 5
          }
        },
        line: 105
      },
      "29": {
        name: "(anonymous_29)",
        decl: {
          start: {
            line: 111,
            column: 53
          },
          end: {
            line: 111,
            column: 54
          }
        },
        loc: {
          start: {
            line: 111,
            column: 58
          },
          end: {
            line: 111,
            column: 62
          }
        },
        line: 111
      },
      "30": {
        name: "(anonymous_30)",
        decl: {
          start: {
            line: 116,
            column: 33
          },
          end: {
            line: 116,
            column: 34
          }
        },
        loc: {
          start: {
            line: 116,
            column: 38
          },
          end: {
            line: 116,
            column: 41
          }
        },
        line: 116
      },
      "31": {
        name: "(anonymous_31)",
        decl: {
          start: {
            line: 119,
            column: 32
          },
          end: {
            line: 119,
            column: 33
          }
        },
        loc: {
          start: {
            line: 119,
            column: 43
          },
          end: {
            line: 125,
            column: 18
          }
        },
        line: 119
      },
      "32": {
        name: "(anonymous_32)",
        decl: {
          start: {
            line: 122,
            column: 18
          },
          end: {
            line: 122,
            column: 19
          }
        },
        loc: {
          start: {
            line: 122,
            column: 27
          },
          end: {
            line: 122,
            column: 40
          }
        },
        line: 122
      },
      "33": {
        name: "(anonymous_33)",
        decl: {
          start: {
            line: 125,
            column: 9
          },
          end: {
            line: 125,
            column: 10
          }
        },
        loc: {
          start: {
            line: 125,
            column: 14
          },
          end: {
            line: 125,
            column: 17
          }
        },
        line: 125
      },
      "34": {
        name: "(anonymous_34)",
        decl: {
          start: {
            line: 135,
            column: 35
          },
          end: {
            line: 135,
            column: 36
          }
        },
        loc: {
          start: {
            line: 135,
            column: 48
          },
          end: {
            line: 145,
            column: 1
          }
        },
        line: 135
      },
      "35": {
        name: "(anonymous_35)",
        decl: {
          start: {
            line: 139,
            column: 9
          },
          end: {
            line: 139,
            column: 10
          }
        },
        loc: {
          start: {
            line: 139,
            column: 15
          },
          end: {
            line: 143,
            column: 5
          }
        },
        line: 139
      },
      "36": {
        name: "(anonymous_36)",
        decl: {
          start: {
            line: 140,
            column: 41
          },
          end: {
            line: 140,
            column: 42
          }
        },
        loc: {
          start: {
            line: 140,
            column: 46
          },
          end: {
            line: 140,
            column: 68
          }
        },
        line: 140
      },
      "37": {
        name: "(anonymous_37)",
        decl: {
          start: {
            line: 144,
            column: 12
          },
          end: {
            line: 144,
            column: 13
          }
        },
        loc: {
          start: {
            line: 144,
            column: 17
          },
          end: {
            line: 144,
            column: 20
          }
        },
        line: 144
      },
      "38": {
        name: "(anonymous_38)",
        decl: {
          start: {
            line: 148,
            column: 34
          },
          end: {
            line: 148,
            column: 35
          }
        },
        loc: {
          start: {
            line: 148,
            column: 46
          },
          end: {
            line: 148,
            column: 94
          }
        },
        line: 148
      },
      "39": {
        name: "(anonymous_39)",
        decl: {
          start: {
            line: 148,
            column: 86
          },
          end: {
            line: 148,
            column: 87
          }
        },
        loc: {
          start: {
            line: 148,
            column: 91
          },
          end: {
            line: 148,
            column: 92
          }
        },
        line: 148
      },
      "40": {
        name: "(anonymous_40)",
        decl: {
          start: {
            line: 150,
            column: 41
          },
          end: {
            line: 150,
            column: 42
          }
        },
        loc: {
          start: {
            line: 150,
            column: 52
          },
          end: {
            line: 156,
            column: 1
          }
        },
        line: 150
      },
      "41": {
        name: "(anonymous_41)",
        decl: {
          start: {
            line: 153,
            column: 18
          },
          end: {
            line: 153,
            column: 19
          }
        },
        loc: {
          start: {
            line: 153,
            column: 27
          },
          end: {
            line: 153,
            column: 61
          }
        },
        line: 153
      },
      "42": {
        name: "(anonymous_42)",
        decl: {
          start: {
            line: 158,
            column: 32
          },
          end: {
            line: 158,
            column: 33
          }
        },
        loc: {
          start: {
            line: 158,
            column: 69
          },
          end: {
            line: 158,
            column: 113
          }
        },
        line: 158
      },
      "43": {
        name: "(anonymous_43)",
        decl: {
          start: {
            line: 158,
            column: 92
          },
          end: {
            line: 158,
            column: 93
          }
        },
        loc: {
          start: {
            line: 158,
            column: 97
          },
          end: {
            line: 158,
            column: 112
          }
        },
        line: 158
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 52,
            column: 52
          },
          end: {
            line: 52,
            column: 78
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 52,
            column: 62
          },
          end: {
            line: 52,
            column: 78
          }
        }],
        line: 52
      },
      "1": {
        loc: {
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 63,
            column: 18
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 56,
            column: 20
          },
          end: {
            line: 56,
            column: 27
          }
        }, {
          start: {
            line: 56,
            column: 30
          },
          end: {
            line: 63,
            column: 18
          }
        }],
        line: 56
      },
      "2": {
        loc: {
          start: {
            line: 75,
            column: 71
          },
          end: {
            line: 75,
            column: 97
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 75,
            column: 81
          },
          end: {
            line: 75,
            column: 97
          }
        }],
        line: 75
      },
      "3": {
        loc: {
          start: {
            line: 86,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 86,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        }, {
          start: {
            line: 86,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        }],
        line: 86
      },
      "4": {
        loc: {
          start: {
            line: 86,
            column: 8
          },
          end: {
            line: 86,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 86,
            column: 8
          },
          end: {
            line: 86,
            column: 15
          }
        }, {
          start: {
            line: 86,
            column: 19
          },
          end: {
            line: 86,
            column: 33
          }
        }, {
          start: {
            line: 86,
            column: 37
          },
          end: {
            line: 86,
            column: 63
          }
        }],
        line: 86
      },
      "5": {
        loc: {
          start: {
            line: 92,
            column: 11
          },
          end: {
            line: 92,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 92,
            column: 11
          },
          end: {
            line: 92,
            column: 30
          }
        }, {
          start: {
            line: 92,
            column: 35
          },
          end: {
            line: 92,
            column: 49
          }
        }, {
          start: {
            line: 92,
            column: 53
          },
          end: {
            line: 92,
            column: 75
          }
        }],
        line: 92
      },
      "6": {
        loc: {
          start: {
            line: 96,
            column: 4
          },
          end: {
            line: 98,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 96,
            column: 4
          },
          end: {
            line: 98,
            column: 5
          }
        }, {
          start: {
            line: 96,
            column: 4
          },
          end: {
            line: 98,
            column: 5
          }
        }],
        line: 96
      },
      "7": {
        loc: {
          start: {
            line: 103,
            column: 31
          },
          end: {
            line: 103,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 103,
            column: 31
          },
          end: {
            line: 103,
            column: 62
          }
        }, {
          start: {
            line: 103,
            column: 66
          },
          end: {
            line: 103,
            column: 76
          }
        }],
        line: 103
      },
      "8": {
        loc: {
          start: {
            line: 121,
            column: 4
          },
          end: {
            line: 123,
            column: 21
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 122,
            column: 8
          },
          end: {
            line: 122,
            column: 41
          }
        }, {
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 123,
            column: 21
          }
        }],
        line: 121
      },
      "9": {
        loc: {
          start: {
            line: 142,
            column: 13
          },
          end: {
            line: 142,
            column: 70
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 142,
            column: 43
          },
          end: {
            line: 142,
            column: 62
          }
        }, {
          start: {
            line: 142,
            column: 65
          },
          end: {
            line: 142,
            column: 70
          }
        }],
        line: 142
      },
      "10": {
        loc: {
          start: {
            line: 152,
            column: 4
          },
          end: {
            line: 154,
            column: 42
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 153,
            column: 8
          },
          end: {
            line: 153,
            column: 62
          }
        }, {
          start: {
            line: 154,
            column: 8
          },
          end: {
            line: 154,
            column: 42
          }
        }],
        line: 152
      },
      "11": {
        loc: {
          start: {
            line: 158,
            column: 42
          },
          end: {
            line: 158,
            column: 64
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 158,
            column: 50
          },
          end: {
            line: 158,
            column: 64
          }
        }],
        line: 158
      },
      "12": {
        loc: {
          start: {
            line: 158,
            column: 70
          },
          end: {
            line: 158,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 158,
            column: 70
          },
          end: {
            line: 158,
            column: 77
          }
        }, {
          start: {
            line: 158,
            column: 81
          },
          end: {
            line: 158,
            column: 83
          }
        }],
        line: 158
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0],
      "12": [0, 0]
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184",
    hash: "36dcdca9a457134020cd9ac95f0a1b0f8a6b8904"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.filterEmptyNames = exports.getUniquePlayersWithStats = exports.playerStatsIsEmpty = exports.getPlayersWithStats = exports.getUniquePlayers = exports.getUpdateablePlayersFromEvents = exports.getUpdateablePlayers = exports.getPlayerStatisticsForTeam = exports.getPlayerStatistics = exports.getSubstitutions = exports.getStartingLineUp = exports.getStartingLineUps = void 0;

var _api = _interopRequireDefault(require("api"));

var _models = require("models");

var _lodash = _interopRequireDefault(require("lodash"));

var _teams = require("./teams");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

cov_1qeyeb1yqe.s[0]++;

var getStartingLineUps = function getStartingLineUps(match) {
  cov_1qeyeb1yqe.f[0]++;
  cov_1qeyeb1yqe.s[1]++;
  return (0, _teams.getTactics)(match).filter(function (t) {
    cov_1qeyeb1yqe.f[1]++;
    cov_1qeyeb1yqe.s[2]++;
    return t.second === 0;
  });
};

exports.getStartingLineUps = getStartingLineUps;
cov_1qeyeb1yqe.s[3]++;

var getStartingLineUp = function getStartingLineUp(match, team_id) {
  cov_1qeyeb1yqe.f[2]++;
  cov_1qeyeb1yqe.s[4]++;
  return getStartingLineUps(match).filter(function (t) {
    cov_1qeyeb1yqe.f[3]++;
    cov_1qeyeb1yqe.s[5]++;
    return t.team_id === team_id;
  });
};

exports.getStartingLineUp = getStartingLineUp;
cov_1qeyeb1yqe.s[6]++;

var getSubstitutions = function getSubstitutions(match) {
  cov_1qeyeb1yqe.f[4]++;
  cov_1qeyeb1yqe.s[7]++;
  return (0, _lodash["default"])(match.events).filter(function (event) {
    cov_1qeyeb1yqe.f[5]++;
    cov_1qeyeb1yqe.s[8]++;
    return event.type === 'sub';
  }).map(function (event) {
    cov_1qeyeb1yqe.f[6]++;
    cov_1qeyeb1yqe.s[9]++;
    return _lodash["default"].pick(event, ['player_id', 'opponent_player_id', 'half', 'minute', 'second']);
  }).sortBy(['half', 'minute', 'second']).value();
};

exports.getSubstitutions = getSubstitutions;
cov_1qeyeb1yqe.s[10]++;

var isStarting = function isStarting(lineup, player_id) {
  cov_1qeyeb1yqe.f[7]++;
  cov_1qeyeb1yqe.s[11]++;
  return lineup.some(function (t) {
    cov_1qeyeb1yqe.f[8]++;
    cov_1qeyeb1yqe.s[12]++;
    return t.player_id === player_id;
  });
};

cov_1qeyeb1yqe.s[13]++;

var getPlayerReplaced = function getPlayerReplaced(subs, player_id) {
  cov_1qeyeb1yqe.f[9]++;
  cov_1qeyeb1yqe.s[14]++;
  return _lodash["default"].get(subs.find(function (s) {
    cov_1qeyeb1yqe.f[10]++;
    cov_1qeyeb1yqe.s[15]++;
    return s.opponent_player_id === player_id;
  }), 'player_id');
};

cov_1qeyeb1yqe.s[16]++;

var getPlayerReplacement = function getPlayerReplacement(subs, player_id) {
  cov_1qeyeb1yqe.f[11]++;
  cov_1qeyeb1yqe.s[17]++;
  return _lodash["default"].get(subs.find(function (s) {
    cov_1qeyeb1yqe.f[12]++;
    cov_1qeyeb1yqe.s[18]++;
    return s.player_id === player_id;
  }), 'opponent_player_id');
};

cov_1qeyeb1yqe.s[19]++;

var getPlayerStatistics = function getPlayerStatistics(match) {
  cov_1qeyeb1yqe.f[13]++;

  var _ref = (cov_1qeyeb1yqe.s[20]++, match),
      match_id = _ref.match_id;

  var matchPlayers = (cov_1qeyeb1yqe.s[21]++, filterEmptyNames(getUniquePlayersWithStats(match)));
  var subs = (cov_1qeyeb1yqe.s[22]++, getSubstitutions(match));
  var lineups = (cov_1qeyeb1yqe.s[23]++, getStartingLineUps(match));
  cov_1qeyeb1yqe.s[24]++;
  return matchPlayers.map(function (player) {
    cov_1qeyeb1yqe.f[14]++;
    cov_1qeyeb1yqe.s[25]++;
    return _objectSpread({}, _lodash["default"].pick(player, ['player_id', 'team_id', 'number', 'position_id']), {
      match_id: match_id
    }, player.statistics, {
      starting: isStarting(lineups, player.player_id),
      replaced_player_id: getPlayerReplaced(subs, player.player_id),
      replacement_player_id: getPlayerReplacement(subs, player.player_id)
    });
  });
};

exports.getPlayerStatistics = getPlayerStatistics;
cov_1qeyeb1yqe.s[26]++;

var getPlayerStatisticsForTeam = function getPlayerStatisticsForTeam(match, team_id) {
  cov_1qeyeb1yqe.f[15]++;
  cov_1qeyeb1yqe.s[27]++;
  return getPlayerStatistics(match).filter(function (p) {
    cov_1qeyeb1yqe.f[16]++;
    cov_1qeyeb1yqe.s[28]++;
    return p.team_id === team_id;
  });
};

exports.getPlayerStatisticsForTeam = getPlayerStatisticsForTeam;
cov_1qeyeb1yqe.s[29]++;

var getUpdateablePlayers =
/*#__PURE__*/
function () {
  var _ref2 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(players) {
    var options,
        foundPlayers,
        insertablePlayers,
        inserts,
        _args = arguments;
    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : (cov_1qeyeb1yqe.b[0][0]++, {
              force: false
            });
            cov_1qeyeb1yqe.f[17]++;
            cov_1qeyeb1yqe.s[30]++;
            _context.next = 5;
            return _models.Player.query().findByIds(players.map(function (p) {
              cov_1qeyeb1yqe.f[18]++;
              cov_1qeyeb1yqe.s[31]++;
              return p.player_id;
            }));

          case 5:
            foundPlayers = _context.sent;
            insertablePlayers = (cov_1qeyeb1yqe.s[32]++, filterEmptyNames(options.force ? (cov_1qeyeb1yqe.b[1][0]++, players) : (cov_1qeyeb1yqe.b[1][1]++, _lodash["default"].pullAllBy(players, foundPlayers.map(function (p) {
              cov_1qeyeb1yqe.f[19]++;
              cov_1qeyeb1yqe.s[33]++;
              return _objectSpread({}, p, {
                id: undefined,
                player_id: p.id
              });
            }), 'id'))));
            inserts = (cov_1qeyeb1yqe.s[34]++, insertablePlayers.map(function (player) {
              cov_1qeyeb1yqe.f[20]++;
              cov_1qeyeb1yqe.s[35]++;
              return {
                id: player.player_id,
                display_name: player.display_name,
                photo: player.photo
              };
            }));
            cov_1qeyeb1yqe.s[36]++;
            return _context.abrupt("return", inserts);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getUpdateablePlayers(_x) {
    return _ref2.apply(this, arguments);
  };
}();

exports.getUpdateablePlayers = getUpdateablePlayers;
cov_1qeyeb1yqe.s[37]++;

var getUpdateablePlayersFromEvents =
/*#__PURE__*/
function () {
  var _ref3 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee3(players, matches) {
    var options,
        playerMap,
        updatedIds,
        inserts,
        _args3 = arguments;
    return regeneratorRuntime.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            options = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : (cov_1qeyeb1yqe.b[2][0]++, {
              force: false
            });
            cov_1qeyeb1yqe.f[21]++;
            playerMap = (cov_1qeyeb1yqe.s[38]++, _lodash["default"].reduce(players, function (arr, el) {
              cov_1qeyeb1yqe.f[22]++;
              cov_1qeyeb1yqe.s[39]++;
              return _objectSpread({}, arr, _defineProperty({}, el.id, el));
            }, {}));
            updatedIds = (cov_1qeyeb1yqe.s[40]++, players.filter(function (p) {
              cov_1qeyeb1yqe.f[23]++;
              cov_1qeyeb1yqe.s[41]++;
              return !!p.name;
            }).map(function (p) {
              cov_1qeyeb1yqe.f[24]++;
              cov_1qeyeb1yqe.s[42]++;
              return p.id;
            }));
            cov_1qeyeb1yqe.s[43]++;
            _context3.t0 = _lodash["default"];
            _context3.next = 8;
            return Promise.all(matches.map(
            /*#__PURE__*/
            function () {
              var _ref4 = _asyncToGenerator(
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee2(match) {
                var _ref5, match_id, matchPlayers, events, matchPlayerIds, notUpdatedYet, detailedEvent, idx, _ref6, eventPlayers, toBeUpdated;

                return regeneratorRuntime.wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        cov_1qeyeb1yqe.f[25]++;
                        _ref5 = (cov_1qeyeb1yqe.s[44]++, match), match_id = _ref5.match_id, matchPlayers = _ref5.players, events = _ref5.events;
                        matchPlayerIds = (cov_1qeyeb1yqe.s[45]++, _lodash["default"].uniq(filterEmptyNames(matchPlayers).map(function (p) {
                          cov_1qeyeb1yqe.f[26]++;
                          cov_1qeyeb1yqe.s[46]++;
                          return p.player_id;
                        })));
                        notUpdatedYet = (cov_1qeyeb1yqe.s[47]++, _lodash["default"].pullAll(matchPlayerIds, updatedIds));
                        cov_1qeyeb1yqe.s[48]++;

                        if (!((cov_1qeyeb1yqe.b[4][0]++, !events) || (cov_1qeyeb1yqe.b[4][1]++, !notUpdatedYet) || (cov_1qeyeb1yqe.b[4][2]++, notUpdatedYet.length === 0))) {
                          _context2.next = 11;
                          break;
                        }

                        cov_1qeyeb1yqe.b[3][0]++;
                        cov_1qeyeb1yqe.s[49]++;
                        return _context2.abrupt("return");

                      case 11:
                        cov_1qeyeb1yqe.b[3][1]++;

                      case 12:
                        idx = (cov_1qeyeb1yqe.s[50]++, 0);
                        cov_1qeyeb1yqe.s[51]++;

                      case 14:
                        if (!((cov_1qeyeb1yqe.b[5][0]++, idx < events.length) && ((cov_1qeyeb1yqe.b[5][1]++, !detailedEvent) || (cov_1qeyeb1yqe.b[5][2]++, !detailedEvent.players)))) {
                          _context2.next = 21;
                          break;
                        }

                        cov_1qeyeb1yqe.s[52]++;
                        _context2.next = 18;
                        return _api["default"].fetchDetailedEvent(match_id, events[idx++].event_id);

                      case 18:
                        detailedEvent = _context2.sent;
                        _context2.next = 14;
                        break;

                      case 21:
                        cov_1qeyeb1yqe.s[53]++;

                        if (detailedEvent) {
                          _context2.next = 28;
                          break;
                        }

                        cov_1qeyeb1yqe.b[6][0]++;
                        cov_1qeyeb1yqe.s[54]++;
                        return _context2.abrupt("return");

                      case 28:
                        cov_1qeyeb1yqe.b[6][1]++;

                      case 29:
                        _ref6 = (cov_1qeyeb1yqe.s[55]++, detailedEvent), eventPlayers = _ref6.players;
                        toBeUpdated = (cov_1qeyeb1yqe.s[56]++, _lodash["default"].uniqBy(eventPlayers.filter(function (p) {
                          cov_1qeyeb1yqe.f[27]++;
                          cov_1qeyeb1yqe.s[57]++;
                          return (cov_1qeyeb1yqe.b[7][0]++, _lodash["default"].includes(notUpdatedYet, p.id)) && (cov_1qeyeb1yqe.b[7][1]++, p.name_eng);
                        }), 'id').map(function (p) {
                          cov_1qeyeb1yqe.f[28]++;
                          cov_1qeyeb1yqe.s[58]++;
                          return _objectSpread({}, playerMap[p.id], {
                            name: p.name_eng,
                            surname: p.lastname_eng
                          });
                        }));
                        cov_1qeyeb1yqe.s[59]++;
                        updatedIds = _lodash["default"].merge(updatedIds, toBeUpdated.map(function (p) {
                          cov_1qeyeb1yqe.f[29]++;
                          cov_1qeyeb1yqe.s[60]++;
                          return p.id;
                        }));
                        cov_1qeyeb1yqe.s[61]++;
                        return _context2.abrupt("return", toBeUpdated);

                      case 35:
                      case "end":
                        return _context2.stop();
                    }
                  }
                }, _callee2);
              }));

              return function (_x4) {
                return _ref4.apply(this, arguments);
              };
            }()));

          case 8:
            _context3.t1 = _context3.sent;
            inserts = _context3.t0.flatten.call(_context3.t0, _context3.t1);
            cov_1qeyeb1yqe.s[62]++;
            return _context3.abrupt("return", _lodash["default"].uniqBy(inserts.filter(function (v) {
              cov_1qeyeb1yqe.f[30]++;
              cov_1qeyeb1yqe.s[63]++;
              return !!v;
            }), 'id'));

          case 12:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function getUpdateablePlayersFromEvents(_x2, _x3) {
    return _ref3.apply(this, arguments);
  };
}();

exports.getUpdateablePlayersFromEvents = getUpdateablePlayersFromEvents;
cov_1qeyeb1yqe.s[64]++;

var getUniquePlayers = function getUniquePlayers(param) {
  cov_1qeyeb1yqe.f[31]++;
  cov_1qeyeb1yqe.s[65]++;
  return _lodash["default"].uniqBy(_lodash["default"].flatten(param instanceof Array ? (cov_1qeyeb1yqe.b[8][0]++, param.map(function (match) {
    cov_1qeyeb1yqe.f[32]++;
    cov_1qeyeb1yqe.s[66]++;
    return match.players;
  })) : (cov_1qeyeb1yqe.b[8][1]++, param.players)), 'player_id').filter(function (v) {
    cov_1qeyeb1yqe.f[33]++;
    cov_1qeyeb1yqe.s[67]++;
    return !!v;
  });
};
/**
 * Matches can have multiple entries for players. 
 * This returns the ones with statistics - if no entries with statistics
 * are found, returns the first.
 * 
 * @param {array} players from a match
 * @return {array} list of unique players  
 */


exports.getUniquePlayers = getUniquePlayers;
cov_1qeyeb1yqe.s[68]++;

var getPlayersWithStats = function getPlayersWithStats(players) {
  cov_1qeyeb1yqe.f[34]++;
  var playersById = (cov_1qeyeb1yqe.s[69]++, _lodash["default"].groupBy(players, 'player_id'));
  cov_1qeyeb1yqe.s[70]++;
  return Object.values(playersById).map(function (ps) {
    cov_1qeyeb1yqe.f[35]++;
    var playersWithStats = (cov_1qeyeb1yqe.s[71]++, ps.filter(function (p) {
      cov_1qeyeb1yqe.f[36]++;
      cov_1qeyeb1yqe.s[72]++;
      return !playerStatsIsEmpty(p);
    }));
    cov_1qeyeb1yqe.s[73]++;
    return playersWithStats.length > 0 ? (cov_1qeyeb1yqe.b[9][0]++, playersWithStats[0]) : (cov_1qeyeb1yqe.b[9][1]++, ps[0]);
  }).filter(function (v) {
    cov_1qeyeb1yqe.f[37]++;
    cov_1qeyeb1yqe.s[74]++;
    return !!v;
  });
};

exports.getPlayersWithStats = getPlayersWithStats;
cov_1qeyeb1yqe.s[75]++;

var playerStatsIsEmpty = function playerStatsIsEmpty(player) {
  cov_1qeyeb1yqe.f[38]++;
  cov_1qeyeb1yqe.s[76]++;
  return !Object.values(player.statistics).some(function (s) {
    cov_1qeyeb1yqe.f[39]++;
    cov_1qeyeb1yqe.s[77]++;
    return s;
  });
};

exports.playerStatsIsEmpty = playerStatsIsEmpty;
cov_1qeyeb1yqe.s[78]++;

var getUniquePlayersWithStats = function getUniquePlayersWithStats(param) {
  cov_1qeyeb1yqe.f[40]++;
  cov_1qeyeb1yqe.s[79]++;
  return _lodash["default"].uniqBy(_lodash["default"].flatten(param instanceof Array ? (cov_1qeyeb1yqe.b[10][0]++, param.map(function (match) {
    cov_1qeyeb1yqe.f[41]++;
    cov_1qeyeb1yqe.s[80]++;
    return getPlayersWithStats(match.players);
  })) : (cov_1qeyeb1yqe.b[10][1]++, getPlayersWithStats(param.players))), 'player_id');
};

exports.getUniquePlayersWithStats = getUniquePlayersWithStats;
cov_1qeyeb1yqe.s[81]++;

var filterEmptyNames = function filterEmptyNames(players) {
  var field = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (cov_1qeyeb1yqe.b[11][0]++, 'display_name');
  cov_1qeyeb1yqe.f[42]++;
  cov_1qeyeb1yqe.s[82]++;
  return ((cov_1qeyeb1yqe.b[12][0]++, players) || (cov_1qeyeb1yqe.b[12][1]++, [])).filter(function (p) {
    cov_1qeyeb1yqe.f[43]++;
    cov_1qeyeb1yqe.s[83]++;
    return p[field] !== '';
  });
};

exports.filterEmptyNames = filterEmptyNames;